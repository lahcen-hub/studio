
{
  "entities": {
    "Calculation": {
      "title": "Calculation",
      "description": "Represents a single cargo calculation entry.",
      "type": "object",
      "properties": {
        "uid": {
          "type": "string",
          "description": "User ID of the person who saved the calculation."
        },
        "date": {
          "type": "string",
          "description": "The date of the calculation."
        },
        "productType": {
          "type": "string",
          "description": "The type of product for the calculation.",
          "enum": ["tomato", "cucumber", "pepper", "pepper_kwach"]
        },
        "mlihPrice": {
          "type": "number",
          "description": "The selling price for the 'mlih' category."
        },
        "dichiPrice": {
          "type": "number",
          "description": "The selling price for the 'dichi' category."
        },
        "results": {
          "type": "object",
          "properties": {
            "grandTotalPrice": { "type": "number" },
            "grandTotalPriceRiyal": { "type": "number" },
            "totalNetWeight": { "type": "number" },
            "totalPriceMlih": { "type": "number" },
            "totalPriceDichi": { "type": "number" }
          },
          "required": ["grandTotalPrice", "grandTotalPriceRiyal", "totalNetWeight", "totalPriceMlih", "totalPriceDichi"]
        },
        "clientName": {
          "type": "string",
          "description": "Name of the client."
        },
        "farm": {
            "type": "string",
            "description": "Name of the farm."
        },
        "remainingCrates": {
          "type": "number",
          "description": "Number of remaining crates."
        },
        "remainingMoney": {
          "type": "number",
          "description": "Amount of money remaining."
        },
        "netAmount": {
          "type": "number",
          "description": "Net amount for the calculation."
        },
        "totalCrates": {
          "type": "number",
          "description": "Total number of crates in the calculation."
        },
        "totalPriceMlih": {
          "type": "number",
          "description": "Manually entered total price for the 'mlih' category."
        },
        "totalPriceDichi": {
          "type": "number",
          "description": "Manually entered total price for the 'dichi' category."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the calculation was saved."
        }
      },
      "required": [
        "uid",
        "date",
        "productType",
        "mlihPrice",
        "dichiPrice",
        "results",
        "clientName",
        "totalCrates",
        "createdAt"
      ]
    }
  },
  "auth": {
    "providers": ["google.com"]
  },
  "firestore": {
    "/calculations/{calculationId}": {
      "schema": { "$ref": "#/entities/Calculation" },
      "description": "Stores user-specific calculation entries."
    }
  }
}

    